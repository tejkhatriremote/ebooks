<html>
<head>
<meta name=vsisbn content="0782124488">
<meta name=vstitle content="Mastering Windows 2000 Professional">
<meta name=vsauthor content="Mark Minasi, Todd Phillips">
<meta name=vspublisher content="Sybex, Inc.">
<meta name=vspubdate content="01/01/00">
<meta name=vscategory content="Operations Systems: Windows 2000">



<title>Mastering Windows 2000 Professional:Understanding the Architecture</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css">
<!--
A:hover { color:red }
-->
</STYLE>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//--></script>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/0782124488.gif" width=60 height=73 alt="Mastering Windows 2000 Professional" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Mastering Windows 2000 Professional</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Mark Minasi, Todd Phillips</i>
    <br>
    Sybex, Inc.
    <br>
    <b>ISBN:</b>&nbsp;0782124488<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;01/01/00</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=0782124488//-->
<!--TITLE=Mastering Windows 2000 Professional//-->
<!--AUTHOR=Mark Minasi//-->
<!--AUTHOR=Todd Phillips//-->
<!--PUBLISHER=SYBEX//-->
<!--CHAPTER=18//-->
<!--PAGES=561-563//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="559-561.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="564-566.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<h4 align="LEFT"><a name="Heading19"></A><font color="#000077">The Windows 2000 Executive</FONT></H4>
<p>Remember back a few pages when we showed you an overview of Windows 2000&#146;s structure? We included a piece of Windows 2000 that is a Kernel mode piece but didn&#146;t say much about it. That piece is called the Windows 2000 Executive, and we&#146;ll describe it here.
</P>
<p>The Executive consists of Windows 2000 modules that were deemed important enough to live in Kernel mode, ring 0 on an Intel processor. They are:</P>
<dl>
<dd><b>&#149;</B>&nbsp;&nbsp;Local Procedure Call (LPC) facility
<dd><b>&#149;</B>&nbsp;&nbsp;Process Manager
<dd><b>&#149;</B>&nbsp;&nbsp;Object Manager
<dd><b>&#149;</B>&nbsp;&nbsp;Security Reference Monitor
<dd><b>&#149;</B>&nbsp;&nbsp;Virtual Memory Manager
</DL>
<p>The LPC facility is the part of the Windows 2000 Executive that manages the messages passed between one User mode module and another&#151;recall that two User mode modules can&#146;t communicate directly with each other.
</P>
<p>The Process Manager has the job of handling the nitty-gritty detail of starting and shutting down processes (programs or parts of programs). Whenever you start a program, the Process Manager does much of the hard work. After the Process Manager starts a process, the process is usually handled by the Kernel until the process terminates, at which time the process is, again, handled by the Process Manager&#151;think of it as both obstetrician and undertaker for processes. The Process Manager oversees the creation and destruction of processes and a kind of subprocess called a <i>thread</I>.</P>
<p>The Object Manager, well, manages objects. Hmmm, let&#146;s try that another way. Windows 2000 is built atop the whole notion of <i>objects</I>. Everything&#151;and we mean <i>everything</I>&#151;is implemented as an object. A file is viewed by Windows 2000 as an object, as is a serial port, a process, and many of the programming constructs in Windows 2000.</P>
<p>Defining these elements as objects serves two purposes. First, making something into an object gives it properties in common with other objects, so Windows 2000 offers a uniform way of accessing all of them. You see, in most operating systems, grabbing a serial port and communicating with it involves massively different code than grabbing a file and reading it. By putting an object interface on everything in Windows 2000, Microsoft made it a bit easier for programmers to use different parts of the operating system. So simplifying programmers&#146; lives is the first benefit of an object-oriented operating system; the second is security.</P>
<p>By creating a single point of contact between an application program and a peripheral (another program, a file, an input/output device, etc.), Windows 2000 makes the tasks of tracking which program uses which object and checking whether that program has the <i>right</I> to use that object much easier for itself. Keeping track of what objects are in the system and who&#146;s using them, and deciding whether programs can access objects, are the jobs of the Object Manager.</P>
<p>The Security Reference Monitor is the part of the Windows 2000 Executive that oversees the security modules in Windows 2000. We talk more about it in the next chapter, which is all about security under Windows 2000.</P>
<p>The Virtual Memory Manager is the parking-lot attendant for all of the processes running in Windows 2000. It&#146;s the program that makes sure that every process has all the memory that it needs&#151;even if the system doesn&#146;t <i>have</I> enough memory! You&#146;ll see how the Virtual Memory Manager accomplishes this feat in the upcoming section &#147;Memory Management in Windows 2000.&#148;</P>
<p>Having exhausted all the modules in Kernel mode under Windows 2000, we can now move on to the pieces that live in User mode. They&#146;re called the environment subsystems and the security subsystems<i>.</I> We cover the security subsystems in the next chapter.</P>
<h4 align="LEFT"><a name="Heading20"></A><font color="#000077">Environment Subsystems</FONT></H4>
<p>The pieces that enable you to run programs reside within Windows 2000&#146;s User mode modules; they are called <i>environment subsystems</I>. Here&#146;s a quick look at them.</P>
<p><font size="+1"><b>Win32</B></FONT></P>
<p>Although Windows 2000 is built to run programs from several other, competing, operating systems, it also has a programming interface of its own. Even before Windows 2000 existed, Microsoft sought to get the programming industry as a whole to agree on which programming interface would serve the needs of programmers in building most programs.
</P>
<p>The result was the Win32 API. Win32 is the closest thing that Windows 2000 has to a native programming interface, but it&#146;s not totally owned by Windows 2000.</P>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>Microsoft knew that Windows 95 and Windows NT would have separate lives in the marketplace, but didn&#146;t want to have to write both NT and Windows 95 versions of the applications. (Microsoft knew also that third-party programmers wouldn&#146;t want that either.) So it set out to create a programming interface that could sit atop either Windows 95 or Windows NT. Win32 is the result.<hr></FONT>
</BLOCKQUOTE>
<p>The different structures of the two Windows&#151;Windows 9<i>x</I> and Windows 2000&#151;mean in practice that Windows 2000 can do some things that 95 can&#146;t, and vice versa. As a result, writing a program that runs under Windows 95 but not under Windows 2000 is possible&#151;and those programs are out there; watch for them.</P>
<p>Another way in which the 95 and Windows 2000 implementations of Win32 differ significantly is in how Windows 95 applications run on non-Intel platforms&#151;they <i>don&#146;t</I>. What we mean is this: If you&#146;re running Windows 2000 on an IA64 processor, you can also run DOS and Windows 3.1 programs, even though you don&#146;t have a Pentium or like processor. They work simply because Windows 2000 on an IA64 system includes software to emulate the Intel processor command set on a RISC chip. When running a DOS program on an IA64, you&#146;ll see that it runs, but it runs very slowly.</P>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>The <i>x</I>86 emulator runs the DOS or Windows 3.1 program by loading the first pieces of code, then examining the next few statements in the DOS or Windows 3.1 program. It then converts those statements to the native processor language of the RISC system and gives those statements to the RISC chip to execute. When the RISC chip is done, it goes back to the emulator program for more. This simultaneous translation of <i>x</I>86 opcodes (short for operation codes) to RISC opcodes is impressive, but slow.<hr></FONT>
</BLOCKQUOTE>
<p><br></P>
<center>
<table border>
<tr>
<td><a href="559-561.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="564-566.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>