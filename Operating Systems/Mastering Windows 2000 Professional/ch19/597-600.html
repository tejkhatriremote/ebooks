<html>
<head>
<meta name=vsisbn content="0782124488">
<meta name=vstitle content="Mastering Windows 2000 Professional">
<meta name=vsauthor content="Mark Minasi, Todd Phillips">
<meta name=vspublisher content="Sybex, Inc.">
<meta name=vspubdate content="01/01/00">
<meta name=vscategory content="Operations Systems: Windows 2000">



<title>Mastering Windows 2000 Professional:Living with Windows 2000's Strict Security</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css">
<!--
A:hover { color:red }
-->
</STYLE>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//--></script>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/0782124488.gif" width=60 height=73 alt="Mastering Windows 2000 Professional" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Mastering Windows 2000 Professional</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Mark Minasi, Todd Phillips</i>
    <br>
    Sybex, Inc.
    <br>
    <b>ISBN:</b>&nbsp;0782124488<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;01/01/00</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=0782124488//-->
<!--TITLE=Mastering Windows 2000 Professional//-->
<!--AUTHOR=Mark Minasi//-->
<!--AUTHOR=Todd Phillips//-->
<!--PUBLISHER=SYBEX//-->
<!--CHAPTER=19//-->
<!--PAGES=597-600//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="594-597.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="600-604.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<h4 align="LEFT"><a name="Heading17"></A><font color="#000077">Controlling Folder Permissions</FONT></H4>
<p>In the same way that you right-clicked a file to view its Properties and Security tab, you can right-click an entire directory to view its Security Properties. Figure 19.13 shows the Folder Security dialog box.
</P>
<p><a name="Fig14"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-14.jpg',368,443)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-14t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-14.jpg',368,443)"><font color="#000077"><b>Figure 19.13</B></FONT></A>&nbsp;&nbsp;Controlling folder permissions</P>
<p>The only real difference in the permissions dialog for a folder from the permissions dialog for a file is the List Folder Contents permission. Of course, there are some other differences in how folder permissions work, but they are hidden for the most part in the Advanced Security options. The Security tab for folders works just like the Security for files, so we won&#146;t go over it again here. Instead, let&#146;s look at some of the differences to keep in mind.
</P>
<p>One option you should be aware of on the Security tab is the check box at the bottom of the tab, Allow Inheritable Permissions from Parent to Propagate to This Object. Quite a mouthful, but what it&#146;s trying to say is that if you check this box (which it is by default), Windows 2000 security will propagate any permission changes from the parent container, or the folder that <i>this</I> folder is in, to this folder. This enables you to prevent your permissions from being overwritten by someone else changing permissions at a higher folder level.</P>
<p>Pressing the Advanced button brings up the Access Control Settings dialog for the folder. At first glance, this is the same dialog we had earlier for Advanced settings on file permissions, and it does work the same way. The difference is in the check box at the bottom of the dialog. The option to Reset Permissions on All Child Objects will deliberately overwrite any existing permissions on subfolders and files.</P>
<h4 align="LEFT"><a name="Heading18"></A><font color="#000077">Understanding File Ownership in Windows 2000</FONT></H4>
<p>We started out this chapter by noting that security brings a bunch of new concepts to a desktop operating system. We&#146;d have to say that the notion of file ownership is perhaps the strangest. It&#146;s useful but takes some explaining.
</P>
<p>Suppose you went to a directory or file&#146;s permissions list and removed everybody, leaving a blank ACL. Consequently, <i>no one</I> would have access to that file. After you realize that you&#146;ve made that mistake, can you undo it?</P>
<p>Well, let&#146;s see &#8230; the problem is that there&#146;s no one on the ACL, no one with permissions on the file. (In case it&#146;s still not obvious, those two phrases mean exactly the same thing&#151;<i>no one on the ACL</I> and <i>no one with permissions</I> are identical in meaning.) The fix would be to add someone to the ACL. But to add someone to a file&#146;s (or directory&#146;s) permissions list, one must have the P type access&#151;Change Permissions access.</P>
<p>But no one has <i>any</I> kind of access. So the file&#146;s toast, right?</P>
<p>No, not at all. Remember that earlier in this section we drew a distinction between the ACL and the SD? We said that the SD had the list of people and groups that could access the file, but that you couldn&#146;t directly view or modify the SD. You <i>could</I> view a subset of it, however&#151;the ACL. What you <i>don&#146;t</I> see when you look on the ACL is the extra, &#147;invisible&#148; entry.</P>
<p>That invisible entry guarantees that one person can <i>always</I> change permissions on an object. That person is the object&#146;s <i>owner</I>. You can see a file&#146;s (or directory&#146;s) owner in the Owner dialog box by right-clicking the object and then selecting Properties <img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-10i.jpg"> Security <img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-11i.jpg"> Ownership. The Owner dialog box is shown below.</P>
<p><a name="Fig15"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-15.jpg',485,443)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-15t.jpg"></A></P>
<p>Windows 2000 marks a change in attitude for Microsoft regarding Ownership. In the past with NT you could only take ownership, you couldn&#146;t <i>give</I> ownership. Now in Windows 2000, provided you have Full Control permission for the file or folder you are changing, you can assign ownership to anyone who appears in the list of valid users on the Owner tab of the Access Control Settings dialog box. One of the interesting points of this is that Administrators (who can always take ownership of anything) cannot give ownership to anyone. For the Administrator, ownership works just like before.</P>
<p>To assign ownership for a file or folder, use these steps:</P>
<dl>
<dd><b>1.</B>&nbsp;&nbsp;Use Explorer or My Computer to browse for the file or folder you want to modify.
<dd><b>2.</B>&nbsp;&nbsp;Right-click the file or folder and choose Properties from the context menu.
<dd><b>3.</B>&nbsp;&nbsp;Click the Security tab and then click the Advanced button. This opens the Access Control Settings dialog.
<dd><b>4.</B>&nbsp;&nbsp;Click the Owner tab.
<dd><b>5.</B>&nbsp;&nbsp;Find the user account that you want to transfer ownership to in the Change Owner To list box and click to highlight the account.
<dd><b>6.</B>&nbsp;&nbsp;If you also want to reset the ownership for all subfolders and files, check the box beside Replace Owner on Subcontainers and Objects.
<dd><b>7.</B>&nbsp;&nbsp;Click Apply if you want to apply the change and leave the window open, or click OK to make the change and close the window.
</DL>
<p>If you create a file, then you are the owner of that file. Someone with permissions to take ownership can take it away from you, however; you may recall the user right Take Ownership of Files or Other Objects, which only members of the Administrators group have by default.
</P>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>Be careful who gets Full Control permissions to files and folders, since they will be able to change ownership to anyone they choose.<hr></FONT>
</BLOCKQUOTE>
<p>Ownership is something like a password. If someone with administrative privileges wants to impersonate you, that person can&#146;t just look up your password and log on as you&#151;the Local Users and Groups console doesn&#146;t disclose your password. However, that &#147;administrator&#148; could certainly change your password, log on as you, and perform some mischief, but the pretender would leave his or her fingerprints behind&#151;the changed password.
</P>
<p>In the same way, you could share a PC with someone who has administrative powers and still have directories that are secure from that person. If you own your directories, then you can remove the person with administrative powers from the ACLs of those directories. The only way the administrator can peek into your directories is to take ownership of the directories&#151;which an administrator <i>can</I> do&#151;add himself or herself to the ACLs, and then browse your files at will.</P>
<p>After the intruder has looked at your files, it&#146;s just a matter of time before you figure out that someone was snooping. Sure, the person can add himself or herself to the ACLs, poke around your stuff, and then remove the entry from the ACLs, but <i>he or she will still be the owner of the file</I>, as a person can only take ownership, not give it. You&#146;ll see that the administrator owns your directory, and the snooper will be easy to identify.</P><p><br></P>
<center>
<table border>
<tr>
<td><a href="594-597.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="600-604.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>