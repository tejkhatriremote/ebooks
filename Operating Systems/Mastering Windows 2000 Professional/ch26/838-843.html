<html>
<head>
<meta name=vsisbn content="0782124488">
<meta name=vstitle content="Mastering Windows 2000 Professional">
<meta name=vsauthor content="Mark Minasi, Todd Phillips">
<meta name=vspublisher content="Sybex, Inc.">
<meta name=vspubdate content="01/01/00">
<meta name=vscategory content="Operations Systems: Windows 2000">



<title>Mastering Windows 2000 Professional:Remote Access Services</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css">
<!--
A:hover { color:red }
-->
</STYLE>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//--></script>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/0782124488.gif" width=60 height=73 alt="Mastering Windows 2000 Professional" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Mastering Windows 2000 Professional</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Mark Minasi, Todd Phillips</i>
    <br>
    Sybex, Inc.
    <br>
    <b>ISBN:</b>&nbsp;0782124488<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;01/01/00</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=0782124488//-->
<!--TITLE=Mastering Windows 2000 Professional//-->
<!--AUTHOR=Mark Minasi//-->
<!--AUTHOR=Todd Phillips//-->
<!--PUBLISHER=SYBEX//-->
<!--CHAPTER=26//-->
<!--PAGES=838-843//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="833-838.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="843-847.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<p>If both your server and the client are using PAP, then the conversation goes something like this:
</P>
<dl>
<dd>Server: Do you use PAP?
<dd>Client: Yes.
<dd>Server: Great, then please send over the username.
<dd>Client: Frank.
<dd>Server<i>:</I> Great, please send over the password.
<dd>Client: Doghouse.
<dd>Server: Thank you.
</DL>
<p>This entire conversation took place without any interaction on the part of the user. All the user saw was the hourglass while this conversation took place in the background. Unfortunately, just as you saw the password <i>doghouse</I> in the conversation, the password was sent as a simple text string across the communication line. If you are looking for a secure validation, you want to use CHAP.</P>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>The makers of the Shiva modem have their own authentication protocol known as Shiva Password Authentication Protocol (SPAP). Windows 2000 supports SPAP for dialing into a Shiva server.<hr></FONT>
</BLOCKQUOTE>
<p><b>Challenge-Handshake Authentication Protocol (CHAP)</B>&nbsp;&nbsp;CHAP creates secure validation. If the server and client have CHAP enabled, the following conversation takes place:</P>
<dl>
<dd>Server: Do you do CHAP?
<dd>Client: Yes.
<dd>Server: 47
<dd>Client (to itself): Let me factor the password by 47 and send the encrypted version across the line.
<dd>Client (to Server): Kjsyao7r (representing the password <i>doghouse</I>).
<dd>Server: Thank you.
</DL>
<p>Now, because the server sent the challenge code (47), it knows that it will use the challenge factor 47 to decrypt the password and then validate it. The power of CHAP is that when the first client logs on, the challenge code may be 47, but when the next client logs on, the challenge code dynamically changes. Because the challenge code is constantly changing, the passwords are encrypted using a different key every time.
</P>
<p><font size="+1"><b>Networking Tab</B></FONT></P>
<p>The Networking tab contains many of the settings that were found on the Server tab in NT 4&#146;s Dial-Up Networking properties. This tab controls the type of line protocol to use, as well as limiting the network components of Windows 2000 that can access the connection when dialed. Figure 26.7 shows the Networking tab.
</P>
<p><a name="Fig7"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-07.jpg',367,443)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-07t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-07.jpg',367,443)"><font color="#000077"><b>Figure 26.7</B></FONT></A>&nbsp;&nbsp;The Networking tab lets you determine the type of line protocol to use for the connection.</P>
<p>The Networking tab contains the following settings:
</P>
<dl>
<dt><b>Type of Dial-Up Server I Am Calling</B>
<dd>This drop-down list box contains choices for each of the supported line protocols including PPP and SLIP.
<dt><b>Components Checked Are Used by This Connection</B>
<dd>This list box contains the various clients, protocols, and network services that might be able to use the connection. Be sure to disable the Client For Microsoft Networks unless you are dialing into a secure network and intend to give access to your shared folders through the connection.
</DL>

<p>The Networking tab also gives you the options to Install, Remove, or modify the Properties for each of the listed network components.
</P>
<p><font size="+1"><b>Shared Access Tab</B></FONT></P>
<p>The Shared Access tab offers something new to NT users. Windows 2000 has the ability to dial a connection and then share that connection as a valid network link. You can even configure the connection to use On-Demand Dialing for specific services or applications. This means that if the connection is currently disconnected, opening an application will cause the Windows 2000 computer to dial and connect. The Shared Access tab is shown in Figure 26.8.
</P>
<p><a name="Fig8"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-08.jpg',367,443)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-08t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-08.jpg',367,443)"><font color="#000077"><b>Figure 26.8</B></FONT></A>&nbsp;&nbsp;The Shared Access feature of Windows 2000 enables you to share your DUN connections with others.</P>
<p>If you check the Enable Shared Access for This Connection box, the options for On-Demand Dialing also become available. Click the Settings button to access the list of applications and services that will be permitted to use the On-Demand Dialing.
</P>
<p><font size="+1"><b>Finalizing Your DUN Connection Configuration</B></FONT></P>
<p>Click OK when you are finished with the connection Properties dialog box to return to the Network and Dial-Up Connections window. Confirm the name you want to assign to this connection as well as the phone number. Your connection should be complete.
</P>
<h4 align="LEFT"><a name="Heading17"></A><font color="#000077">Dialing a Connection</FONT></H4>
<p>To use your connection, simply open the connection and click the Dial button. The modem then dials the remote network.
</P>
<p>After you click the Dial-Up Networking button and select the connection you want to dial, Windows 2000 asks who you are, as shown in Figure 26.9. Type in the User Name and Password of your account on the remote network. If you are dialing a Microsoft DUN server, you can also provide the name of the domain that you want to log on to.</P>
<p><a name="Fig9"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-09.jpg',348,400)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-09t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-09.jpg',348,400)"><font color="#000077"><b>Figure 26.9</B></FONT></A>&nbsp;&nbsp;Log on via DUN.</P>
<p>At this point, you&#146;re connected (hopefully) and the dialog boxes close. You should now have a status icon in your System Tray that indicates the activity of your connection. If you double-click that icon, you&#146;ll see the dialog box shown in Figure 26.10.
</P>
<p><a name="Fig10"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-10.jpg',344,344)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-10t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-10.jpg',344,344)"><font color="#000077"><b>Figure 26.10</B></FONT></A>&nbsp;&nbsp;The General tab of the Status dialog box tells you how data is being transferred across your connection.</P>
<p>The Details tab of the Status dialog box gives you a report of your current configuration for that connection such as TCP/IP address, PPP framing, and more, as shown in Figure 26.11.
</P>
<p><a name="Fig11"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-11.jpg',344,344)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-11t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-11.jpg',344,344)"><font color="#000077"><b>Figure 26.11</B></FONT></A>&nbsp;&nbsp;The Details tab of the Status dialog box gives you information on the connection.</P>
<h4 align="LEFT"><a name="Heading18"></A><font color="#000077">Dial-Up Preferences</FONT></H4>
<p>You can change the overall behavior of your Dial-Up Networking by using the Dial-Up Preferences command on the Advanced menu of Network and Dial-Up Connections. The dialog box has three tabs that control different aspects of DUN, as discussed below.
</P>
<p><font size="+1"><b>Connections Tab</B></FONT></P>
<p>The Connections tab controls the ability of normal users to create a connection prior to logging on to the Windows 2000 computer. This is useful if you use DUN to log on to a Windows 2000 domain from a remote location and want to give all of your users this ability whether they&#146;ve logged on before or not. The Connections tab is shown in Figure 26.12.
</P>
<p><a name="Fig12"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-12.jpg',367,443)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-12t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch26/images/26-12.jpg',367,443)"><font color="#000077"><b>Figure 26.12</B></FONT></A>&nbsp;&nbsp;The Connections tab enables users to create DUN connections for logon.</P>
<p>The default behavior is to deny this ability to users and reserve it only for administrators.
</P><p><br></P>
<center>
<table border>
<tr>
<td><a href="833-838.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="843-847.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>