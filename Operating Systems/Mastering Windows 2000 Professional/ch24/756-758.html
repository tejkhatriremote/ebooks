<html>
<head>
<meta name=vsisbn content="0782124488">
<meta name=vstitle content="Mastering Windows 2000 Professional">
<meta name=vsauthor content="Mark Minasi, Todd Phillips">
<meta name=vspublisher content="Sybex, Inc.">
<meta name=vspubdate content="01/01/00">
<meta name=vscategory content="Operations Systems: Windows 2000">



<title>Mastering Windows 2000 Professional:Essentials of Windows 2000 Networking</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css">
<!--
A:hover { color:red }
-->
</STYLE>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//--></script>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/0782124488.gif" width=60 height=73 alt="Mastering Windows 2000 Professional" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Mastering Windows 2000 Professional</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Mark Minasi, Todd Phillips</i>
    <br>
    Sybex, Inc.
    <br>
    <b>ISBN:</b>&nbsp;0782124488<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;01/01/00</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=0782124488//-->
<!--TITLE=Mastering Windows 2000 Professional//-->
<!--AUTHOR=Mark Minasi//-->
<!--AUTHOR=Todd Phillips//-->
<!--PUBLISHER=SYBEX//-->
<!--CHAPTER=24//-->
<!--PAGES=756-758//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="753-756.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="758-762.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<h4 align="LEFT"><a name="Heading17"></A><font color="#000077">Setting Hardware Resources</FONT></H4>
<p>Regardless of the type of card you purchase, certain settings, or <i>resources</I>, on the cards will not change; the cards must use these settings to work properly. When used correctly, these settings help to avoid hardware conflicts with the other cards in the computer. So we will begin our adventure by taking a look at interrupt requests (IRQs), direct memory access chips (DMAs), and base I/O addresses.</P>
<p><font size="+1"><b>Interrupt Requests</B></FONT></P>
<p>Sitting on your NIC are some memory chips. These memory chips are there so that when packets that are addressed to your machine arrive at your workstation, they have a place to go. Unfortunately, the CPU, which is the brains of the operation, cannot see the memory chips on the NIC. Therefore, something has to move that information from the memory of the NIC to the main memory of your system so that the CPU can process it. The component given the task of moving information from the memory of the NIC to your main memory is a CPU chip located on the NIC.
</P>
<p>The best way to comprehend the function of the memory on the NIC is to think of it as a waiting room. Every time a packet arrives at your workstation, it is sent to the waiting room or memory on the NIC. Well, the CPU needs some way to know that this information is waiting in the memory of your NIC for the CPU to move it to main memory. (Keep in mind, your CPU is already busy doing tons of other things.)</P>
<p>At this point one of two things could happen. Every few milliseconds the CPU could go over to the NIC and ask, &#147;Excuse me, NIC, but is there any information that needs to be processed?&#148;</P>
<p>However, the CPU would have to stop doing what it loves to do best, which is processing, just to nag the NIC for information that may or may not be there. That&#146;s a whole lot of wasted CPU time. This method of &#147;nagging&#148; the cards in your system periodically is known as <i>polling</I>. Some of your older NICs still require the CPU to poll them to find out their status.</P>
<p>The preferred method today is to have the NIC notify the CPU when the NIC has information, or packets, that need to be processed.</P>
<p>So continuing our main story, when a packet arrives in the waiting room or memory on the NIC, the NIC goes over to the CPU, taps it on the shoulder and says, &#147;Excuse me CPU, but there is some information sitting in the memory of the NIC. When you get a chance, please process this information or move this information over to main memory.&#148;</P>
<p>The CPU continues its work when it receives this request. However, when it gets a free moment, the CPU will then go over to the NIC and start to process the information or to move the information from the NIC to main memory.</P>
<p>When the NIC tapped the CPU on the shoulder, it was making an <i>interrupt request</I>. In essence, it was saying, &#147;When you get a chance, please <i>interrupt</I> what you are currently doing and move this information.&#148;</P>
<p>If you look at your computer motherboard, you obviously won&#146;t see lots of busy little people, tapping the CPU on the shoulder. However, you will see metal traces or wires sitting on the motherboard that act as pathways to connect various cards sitting in their bus slots to the CPU. Some of these pathways are known as <i>interrupt request (IRQ) lines</I>. You need to worry about 16 IRQ lines. Because we are techie folk, we always start counting with the number 0, and so the IRQ numbers start from 0 and go all the way up to 15.</P>
<p>Each device that needs to use an IRQ must use a unique IRQ. For example, if you had a printer and an NIC both using IRQ5, when the CPU got tapped on the shoulder and said &#147;Oh, I&#146;m being tapped by IRQ5,&#148; it would look up and see both your NIC and the printer. Then the CPU would get confused about which device actually needed its attention at this time. And what does your computer always do when it gets confused? <i>It crashes!</I> So it is imperative that you use different IRQs for different cards in your system.</P>
<p><font size="+1"><b>Direct Memory Access&#151;Memory Movers</B></FONT></P>
<p>Well, we have already talked about getting the CPU&#146;s attention to let it know that a packet of information is sitting on the NIC. But how did the information get from the NIC to main memory?
</P>
<p>On the first computers in the early &#146;80s, the component that had to physically move the information from the NIC to main memory was the CPU, and the CPU was not happy about this situation. If you are a CPU, your one goal in life is to process and calculate numbers. Now you are being taxed with the menial task of moving information from the memory of the NIC to main memory and vice versa. So, in the mid &#146;80s a new chip known as a direct memory access (DMA) chip appeared on the motherboard.</P>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>Let&#146;s take a moment and talk about life before the DMA chips appeared on the scene. When information had to be moved from a card in your computer to main memory, it would have to go through the CPU bit by bit. This method of transferring information is referred to as <i>programmable input/output</I> (PIO). PIO is very processor intensive, which means that your processor now has less time to do what it loves to do best&#151;process.<hr></FONT>
</BLOCKQUOTE>
<p>We already know that when a packet arrives at your workstation, it goes to the memory of the NIC. Then the IRQ taps the CPU on the shoulder and says, &#147;When you have a moment, please move this information.&#148; Now with DMA chips on the motherboard, the CPU has to stop what it is doing only for a quick moment and tell the DMA chips, &#147;DMA chips, please move this information for me and let me know when you are finished.&#148; And the DMA obliges.
</P>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>The real power of DMA is that the DMA chips can be moving information back and forth while the CPU is still calculating and crunching information. On current 386s and 486s, this type of activity is as close as you will ever get to true multitasking. With DMA chips onboard, you can now process and move information faster on your computer system.<hr></FONT>
</BLOCKQUOTE>
<p>The current generation of motherboards holds two DMA chips. Each DMA chip supports four DMA channels, so your motherboard has a total of eight DMA channels. Once again, because we are techie folk, we number the DMA channels DMA0 through DMA7. Every device that needs to use DMA must use a unique DMA channel.
</P><p><br></P>
<center>
<table border>
<tr>
<td><a href="753-756.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="758-762.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>