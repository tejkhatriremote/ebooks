<html>
<head>
<meta name=vsisbn content="0782124488">
<meta name=vstitle content="Mastering Windows 2000 Professional">
<meta name=vsauthor content="Mark Minasi, Todd Phillips">
<meta name=vspublisher content="Sybex, Inc.">
<meta name=vspubdate content="01/01/00">
<meta name=vscategory content="Operations Systems: Windows 2000">



<title>Mastering Windows 2000 Professional:Essentials of Windows 2000 Networking</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css">
<!--
A:hover { color:red }
-->
</STYLE>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//--></script>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/0782124488.gif" width=60 height=73 alt="Mastering Windows 2000 Professional" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Mastering Windows 2000 Professional</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Mark Minasi, Todd Phillips</i>
    <br>
    Sybex, Inc.
    <br>
    <b>ISBN:</b>&nbsp;0782124488<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;01/01/00</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=0782124488//-->
<!--TITLE=Mastering Windows 2000 Professional//-->
<!--AUTHOR=Mark Minasi//-->
<!--AUTHOR=Todd Phillips//-->
<!--PUBLISHER=SYBEX//-->
<!--CHAPTER=24//-->
<!--PAGES=769-774//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="766-769.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="774-777.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<p>When you attempt to access a domain remotely, the domain controller looks at two criteria:
</P>
<dl>
<dd><b>&#149;</B>&nbsp;&nbsp;Does the user who is attempting the logon to the Administrators group really have administrative rights?
<dd><b>&#149;</B>&nbsp;&nbsp;Is the user logging on from an NT or Windows 2000 machine that is a registered member of the domain (or a trusted domain)?
</DL>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>As long as the computer is registered with the domain that is being accessed or a separate domain that this domain trusts, a user can administer this domain from a remote location. This permission also assumes that the user in question has proper administrative authority to administer the domain. (For a complete discussion of trust relationships and trusted domains, refer to <i>Mastering Windows 2000 Server</I> by Mark Minasi, published by Sybex.)<hr></FONT>
</BLOCKQUOTE>
<p>After you select the domain that you want to log on to, you can also choose to have your machine become a member of the domain. To perform this function, you must know the logon name and password of an account that has administrative authority inside the domain. This point is important. When you select the option to have your computer added to the domain, the system will make an attempt to add your computer name to the domain. If you do not provide a valid administrative logon, the domain will tell you that it was unable to log you on as an administrator.
</P>
<p>Not being logged on to the network at the time you are configuring your system can cause another common problem when you try to add a computer to a domain in this fashion. If the system cannot locate the domain controller, the following error message appears:</P>
<p><a name="Fig15"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-15.jpg',347,126)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-15t.jpg"></A></P>
<p>The easiest way to resolve this problem is to add the machine to the domain directly at the server.
</P>
<h4 align="LEFT"><a name="Heading29"></A><font color="#000077">Configuration Testing</FONT></H4>
<p>All the changes that you have made in the network configuration will require you to reboot your system. When the system restarts, you will know if Windows 2000 can see the network during the logon procedure. Often error messages will be displayed if your TCP/IP address went awry, if you cannot see the NetWare file server that you specified on the Network dialog box, or if the NT domain controller refuses to validate you into the domain. Even if no errors are immediately apparent, we&#146;d still advise looking for conflicts in the Event Viewer, which is located in the Administrative Tools <img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-10i.jpg"> Computer Management console.</P>
<p>In the Event Viewer, look in the System log for potential problems. You are looking for red stop signs or yellow exclamation points. If you click one of these icons, you should see an Event on Local Computer Properties dialog box, and an Event Detail tab with data that looks similar to that in Figure 24.14.</P>
<p><a name="Fig16"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-16.jpg',404,448)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-16t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-16.jpg',404,448)"><font color="#000077"><b>Figure 24.14</B></FONT></A>&nbsp;&nbsp;Event Detail dialog box</P>
<p>The ultimate test of your configuration is being able to attach to all the resources that you need. Taking a look in My Network Places and double-clicking Computers Near Me can give you insight into which parts of the networks you can and cannot communicate with, as seen in Figure 24.15.
</P>
<p><a name="Fig17"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-17.jpg',575,473)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-17t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-17.jpg',575,473)"><font color="#000077"><b>Figure 24.15</B></FONT></A>&nbsp;&nbsp;Testing your connection by viewing the network resources via My Network Places</P>
<blockquote>
<p><font size="-1"><hr><b>TIP:&nbsp;&nbsp;</B>When using Event Viewer to troubleshoot network problems, start at the top of the list and work down until you find event ID number 6005 with a source of Event Log. This represents the last time you booted the computer. The most likely source of your problems will be the event immediately above or immediately below the 6005 event. You should focus most of your efforts resolving these before moving on to the others.<hr></FONT>
</BLOCKQUOTE>
<p><font size="+1"><b>Test Your TCP/IP Configuration</B></FONT></P>
<p>To understand what is happening with your TCP/IP configuration, you will want to look at the IPCONFIG utility. Type <tt><b>IPCONFIG/ALL</B></TT> at the command prompt, and you will get a report that looks similar to the one in Figure 24.16.</P>
<p><a name="Fig18"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-18.jpg',668,391)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-18t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch24/images/24-18.jpg',668,391)"><font color="#000077"><b>Figure 24.16</B></FONT></A>&nbsp;&nbsp;IPCONFIG /ALL report</P>
<p><tt>IPCONFIG/ALL</TT> reports all the vital information regarding your TCP/ IP connection, even down to lease duration of your IP address if you are using the Dynamic Host Configuration Protocol (DHCP) on your network. To test your TCP/IP configuration, follow this procedure:</P>
<dl>
<dd><b>1.</B>&nbsp;&nbsp;Test that you&#146;ve installed the IP software by pinging the built-in IP loopback address. Type <b>ping 127.0.0.1</B>. If that fails, then you know that you&#146;ve done something wrong in the initial installation, so check that the software is installed on your system. This test does not put any messages out on the network; it just checks that the software is installed. By the way, the same thing happens if you ping your IP address, except that pinging your address also tests the network card.
<p>If that fails, then your TCP/IP stack probably isn&#146;t installed correctly, or perhaps you mistyped the IP number (if it failed on your specific IP address but not on the loopback), or perhaps you gave the <i>same</I> IP number to another workstation.
</P>
<dd><b>2.</B>&nbsp;&nbsp;Ping your gateway to see that you can get to the gateway, which should be on your subnet. For example, if your gateway were at 199.34.57.2, you would type <b>ping 199.34.57.2</B> and all should be well.
<dd><b>3.</B>&nbsp;&nbsp;If you can&#146;t get to the gateway, then check that the gateway is up and that your network connection is all right. There&#146;s nothing more embarrassing than calling in outside network support, only to find that your LAN cable fell out of the back of your computer.
<dd><b>4.</B>&nbsp;&nbsp;Ping something on the other side of your gateway, such as an external DNS server. (Ping me, Mark Minasi, if you like; 199.34.57.1. I ought to be up just about all the time.) If you can&#146;t get there, then it&#146;s likely that your gateway isn&#146;t working properly.
<dd><b>5.</B>&nbsp;&nbsp;Next, test the name resolution on your system. Ping yourself <i>by name</I>. Instead of typing something like <b>ping 199.34.57.35</B>, you&#146;d type <b>ping nec.Mmco.Com</B> (the machine you&#146;re on at the moment). That tests HOSTS and/or DNS.
<dd><b>6.</B>&nbsp;&nbsp;Then, ping someone else on your subnet. Again, try using a DNS name, like <tt>mizar.Ursamajor.Edu</TT>, rather than an IP address. If that doesn&#146;t work, then use the IP address. If the IP address works, but the host name doesn&#146;t, then double-check the HOSTS file or DNS.
<dd><b>7.</B>&nbsp;&nbsp;Finally, ping someone outside of your domain, like <tt>house.gov</TT> (the U.S. House of Representatives), or <a href="www.yahoo.com">www.yahoo.com</A>, or <tt>orion01.Mmco.Com</TT>. If that doesn&#146;t work, but all the pings inside your network work, then you&#146;ve probably got a problem with your Internet provider.
</DL>
<p>If you&#146;re successful on all of these tests, your TCP/IP connection should be set up properly.
</P><p><br></P>
<center>
<table border>
<tr>
<td><a href="766-769.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="774-777.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>