<html>
<head>
<meta name=vsisbn content="0782124488">
<meta name=vstitle content="Mastering Windows 2000 Professional">
<meta name=vsauthor content="Mark Minasi, Todd Phillips">
<meta name=vspublisher content="Sybex, Inc.">
<meta name=vspubdate content="01/01/00">
<meta name=vscategory content="Operations Systems: Windows 2000">



<title>Mastering Windows 2000 Professional:Advanced Troubleshooting Methodology</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css">
<!--
A:hover { color:red }
-->
</STYLE>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//--></script>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/0782124488.gif" width=60 height=73 alt="Mastering Windows 2000 Professional" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Mastering Windows 2000 Professional</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Mark Minasi, Todd Phillips</i>
    <br>
    Sybex, Inc.
    <br>
    <b>ISBN:</b>&nbsp;0782124488<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;01/01/00</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=0782124488//-->
<!--TITLE=Mastering Windows 2000 Professional//-->
<!--AUTHOR=Mark Minasi//-->
<!--AUTHOR=Todd Phillips//-->
<!--PUBLISHER=SYBEX//-->
<!--CHAPTER=32//-->
<!--PAGES=10441046//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="1042-1044.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="1046-1048.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<h4 align="LEFT"><a name="Heading15"></A><font color="#000077">Troubleshooting Text Mode to GUI Mode</FONT></H4>
<p>The transition from the character-based portion of Setup to the graphical portion is the number one point for problems to occur. This is a delicate time when Windows 2000 (albeit a limited version of Windows 2000) is being booted for the first time. During this phase, Windows 2000 is loading the Kernel for the first time and initializing hardware and drivers. Some of the Setup specialists at Microsoft say that this is the toughest test of your computer hardware configuration that Windows 2000 will ever make.
</P>
<p>During this transition, Windows 2000 is switching your CPU to a flat memory model and initiating multithreading. Windows 2000 is also loading the Hardware Abstraction Layer (HAL) at this time. If your computer requires a customized HAL, you may have severe problems here. Normally, it&#146;s only the top-of-the-line computer brands that require custom HALs. Compaq still does, though officially the company says that it is not necessary as of NT 4. If you don&#146;t know, consult the manual for your system or contact the manufacturer.</P>
<p>This is the most likely point for blue screens, also called <i>STOP screens</I> because of the text at the top of the screen. Some people insist on calling these the &#147;Blue Screen of Death,&#148; though you should be aware that there may be hundreds of possible blue-screen errors in Windows 2000. None of us will likely ever see them all. We&#146;ve included some of the most common below.</P>
<p><font size="+1"><b>Blue Screens During Setup</B></FONT></P>
<p>There are two blue screens that are most commonly seen during Setup. The first is:
</P>
<!-- CODE SNIP //-->
<pre>
   STOP: 0x0000001E
   KMODE_EXCEPTION_NOT_HANDLED
   And the second is:
   STOP: 0x0000000A
   IRQL_NOT_LESS_OR_EQUAL
</PRE>
<!-- END CODE SNIP //-->
<p>Both of these blue screens can be indications of faulty hardware, especially memory. A misbehaving driver most commonly generates these, though a hardware issue can cause them. One of the first things to rule out is any third-party driver you may be installing. Try to use only drivers supplied with Windows 2000, if possible. If you can&#146;t avoid using a driver supplied by someone else, then be certain the driver was written specifically for Windows 2000, and not for an earlier version of NT. Try contacting the vendor for an updated driver file, possibly through their Web site. See the section on the <tt>dumpexam</TT> utility in Chapter 29 for more help in determining the cause of these.</P>
<p>Another common blue-screen error involves Windows 2000&#146;s inability to access the hard drive to boot the computer. The STOP code is</P>
<!-- CODE SNIP //-->
<pre>
   STOP 0x0000007B
   INACCESSIBLE_BOOT_DEVICE
</PRE>
<!-- END CODE SNIP //-->
<p>This one is usually not nearly as bad as it seems at first. What Windows 2000 is telling you is that it can&#146;t use the driver you chose during the text mode portion of Setup. This blue screen can be worked through by using standard hard-disk troubleshooting. That means asking questions like, &#147;Is it plugged in?&#148; Check the cables, and if it&#146;s a SCSI drive, check the termination. Be sure the drive is getting power and is spinning normally.
</P>
<p>One of the most interesting causes of the STOP 0x7B is adding an IDE drive to a SCSI-based system. IDE controllers are enumerated before the SCSI controllers, meaning that the BIOS of the computer looks for them first. If you add an IDE drive to a computer that is already working fine with SCSI hard drives, you may very well see this blue screen. That situation can be fixed in the computer&#146;s BIOS. If your BIOS supports the option, set the boot order to go to the SCSI drives first, then the IDE.</P>
<p>One last thing to mention about blue screens applies more to upgrading Windows 2000 from an earlier version than to a fresh installation. If you are using third-party drivers or programs that run as services in NT, you should always disable them until after Setup is completed. Please be aware that some services, especially network clients, are specifically designed for one version of Windows NT. One situation that we saw a lot of when NT 4 was released was a STOP screen caused by having Novell&#146;s Client32 installed when Setup was run to upgrade from 3.51 to 4. The following STOP screen message was displayed:</P>
<!-- CODE SNIP //-->
<pre>
   STOP: 0x00000093
   INVALID_KERNEL_HANDLE
</PRE>
<!-- END CODE SNIP //-->
<p>This STOP screen is caused by installing the Novell Client32 version 3.5b on Windows NT 4, or by having it installed on NT 3.5<i>x</I> when performing an upgrade to NT 4. The solution is to remove the Client32 before performing the upgrade. This issue will likely be common again with the upgrades to Windows 2000. Recovering from this problem after it happens is difficult and usually involves some creative Registry hacking and a lot of patience. Now this is not intended to bash the Novell product in any way, only to illustrate that a good piece of software designed for one version of NT may not work at all on the next version. Novell came out with a Client32 for Windows NT 4 soon after NT 4 was released and provided documentation on the problem. If you are using this client on NT 4 and intend to upgrade to Windows 2000, check with Novell for a Windows 2000 version prior to performing the upgrade and you&#146;ll be fine. When in doubt, disable the service before performing the upgrade.</P>
<p>One last critical error to talk about here:</P>
<!-- CODE SNIP //-->
<pre>
   Setup has encountered a fatal error that prevents it from continuing.
   Contact your software representative for help. Status code (0x4, 0,
   0, 0)
</PRE>
<!-- END CODE SNIP //-->
<p>This error message is displayed on a blue screen, but is not actually considered a &#147;blue screen&#148; because it does not display the typical STOP message. This indicates a problem with the Master Boot Record (MBR). Either the MBR has become corrupted or it&#146;s infected with a boot-sector virus. Yes, even NTFS can become infected with a virus. This usually happens only on dual-boot systems, but can also happen if you boot the computer with an infected floppy disk. NTFS is resistant to viruses in that Windows 2000 doesn&#146;t allow any program to access the hardware directly. In theory, this should prevent any boot-sector virus.
</P><p><br></P>
<center>
<table border>
<tr>
<td><a href="1042-1044.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="1046-1048.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>