<html>
<head>
<meta name=vsisbn content="0782124488">
<meta name=vstitle content="Mastering Windows 2000 Professional">
<meta name=vsauthor content="Mark Minasi, Todd Phillips">
<meta name=vspublisher content="Sybex, Inc.">
<meta name=vspubdate content="01/01/00">
<meta name=vscategory content="Operations Systems: Windows 2000">



<title>Mastering Windows 2000 Professional:Living with Windows 2000's Strict Security</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css">
<!--
A:hover { color:red }
-->
</STYLE>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//--></script>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/0782124488.gif" width=60 height=73 alt="Mastering Windows 2000 Professional" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Mastering Windows 2000 Professional</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Mark Minasi, Todd Phillips</i>
    <br>
    Sybex, Inc.
    <br>
    <b>ISBN:</b>&nbsp;0782124488<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;01/01/00</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=0782124488//-->
<!--TITLE=Mastering Windows 2000 Professional//-->
<!--AUTHOR=Mark Minasi//-->
<!--AUTHOR=Todd Phillips//-->
<!--PUBLISHER=SYBEX//-->
<!--CHAPTER=19//-->
<!--PAGES=600-604//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="597-600.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="../ch20/605-608.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<h3><a name="Heading19"></A><font color="#000077">Reviewing Windows 2000 Security</FONT></H3>
<p>Windows 2000 security on a workstation is, then, accomplished in this fashion:
</P>
<dl>
<dd><b>1.</B>&nbsp;&nbsp;Someone runs the Setup program and installs the Windows 2000 workstation.
<dd><b>2.</B>&nbsp;&nbsp;Setup creates an Administrator account for that particular machine as part of the installation process. This Administrator account initially owns all the files and directories on the system.
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>The Administrator account is on the local machine&#146;s SAM. It is not a domain-wide Administrator account&#151;that is to say, the account has complete power over only one computer.<hr></FONT>
</BLOCKQUOTE>
<dd><b>3.</B>&nbsp;&nbsp;The administrator creates user areas for all the users of the machine and grants each user the permission to take ownership of those areas.
<dd><b>4.</B>&nbsp;&nbsp;The users then take permission of their directory areas and can lock out everyone else.
</DL>
<p>That security is reliable and auditable. The only way that someone with an Administrator account can snoop in a user&#146;s files is by taking ownership&#151;which leaves fingerprints behind.
</P>
<p>Let&#146;s take an example. Suppose Jim and Wanda share a machine. Wanda set up the machine, so she knows the password of the Administrator account. By default, Windows 2000 creates a directory called Documents and Settings, so Wanda thinks she&#146;ll create an area for herself called <tt>\Documents and Settings\Wanda</TT> and one for Jim in <tt>\Documents and Settings\Jim</TT>.</P>
<p>She uses the Local Users and Groups console to create a Wanda account and a Jim account. She doesn&#146;t want to do her day-to-day work in the Administrator account, because that account is too powerful, and if she accidentally did something dumb&#151;like trying to erase huge sections of the computer&#146;s hard disk&#151;the Administrator account might well have the permission levels to do it, whereas the Wanda account wouldn&#146;t. In the Profiles section, she sets the home directory of the Wanda account to Local Path: <tt>C:\ Documents and Settings\Wanda</TT>, and sets Jim&#146;s local path to <tt>C:\ Documents and Settings\Jim</TT>. Then she modifies the directory permissions for <tt>C:\ Documents and Settings\Wanda</TT> to allow Wanda to take ownership of the directory and does the same for Jim&#146;s directory.</P>
<p>Then, when Jim logs on for the first time, he right-clicks the <tt>C:\ Documents and Settings\Jim</TT> directory and then clicks Properties <img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-12i.jpg"> Security <img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-13i.jpg"> Ownership. From the Owner dialog box, Jim chooses the Take Ownership button, and now he owns his home directory, the place where he keeps his private files. He can then click the Permissions button and exclude everyone but himself. Wanda does the same. Now she has her directory and Jim has his and they&#146;re protected from each other.</P>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>Local security, such as in the above example, is available only with the NTFS file system. If the FAT file system is used, no local security exists, and a user logging on to a Windows 2000 computer locally can access all the files on the computer, regardless of the permissions.<hr></FONT>
</BLOCKQUOTE>
<p>That&#146;s pretty much the blueprint for using Windows 2000 security. Before finishing up, however, let us answer a few common questions.
</P>
<h4 align="LEFT"><a name="Heading20"></A><font color="#000077">Can You Take the Right to Take Ownership from the Administrators?</FONT></H4>
<p>One way to secure directories <i>completely</I>, so that not even an administrator can see them, is to open the Computer Management console and take away the right to take ownership from the Administrators group.</P>
<p>Remember that any member of the Administrators group can run the Computer Management console. Essentially, then, the right to take the right to take ownership is an unwritten user right. You can never take that right away from the Administrators group.</P>
<h4 align="LEFT"><a name="Heading21"></A><font color="#000077">How Can We Get the Data Back?</FONT></H4>
<p>Someone left the company and did not give you the administrator password for her machine. What can you do to get the data? Seems like you can&#146;t even get on the computer if you don&#146;t have a password for any of its accounts. Here&#146;s a way around that catch-22. Reinstall Windows 2000, but be sure that it&#146;s a <i>fresh</I> install to a separate folder, with all new accounts. That way, you&#146;ll be able to choose a new password for the new Administrator account. Then you can just take ownership of all of files on the computer, and <i>voil&#224;!</I> you&#146;ve got your data back.</P>
<h4 align="LEFT"><a name="Heading22"></A><font color="#000077">Can I Track Who Uses What Files?</FONT></H4>
<p>Yes, kind of. First, go to the Local Security Policy tool in Control Panel <img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-14i.jpg"> Administrative Tools and expand Local Policies <img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch19/images/19-15i.jpg"> Audit Policy. Then double-click the audit policy you want to enable and check the boxes that correspond to the audits you want. You will very likely want to enable Audit Object Access, since that allows you to audit file and folder access.</P>
<p>Now go to the particular files or directories whose use you want to audit. Back in the Security tab, press the Advanced button and go to the Auditing tab, and you&#146;ll get an extensive set of choices regarding how to audit use of this file or directory.</P>
<p>We haven&#146;t talked about the auditing function much because, truthfully, the results are a bit cryptic, and the audit policy will normally be set at the domain level for a Windows 2000 network. You&#146;ll find any audit results in the Event Viewer in the Security log.</P>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>Auditing is only available on NTFS partitions. You will not be able to track a user&#146;s activities on a FAT partition.<hr></FONT>
</BLOCKQUOTE>
<h3><a name="Heading23"></A><font color="#000077">Summary</FONT></H3>
<p>Security is Windows 2000&#146;s middle name. Windows 2000&#146;s security and its robustness are its two greatest strengths. If you know how to use Windows 2000&#146;s security features, then you&#146;ll get the most out of the operating system.
</P>
<p>And speaking of getting the most out of Windows 2000, let&#146;s install it so that we can start playing with it in earnest. Installation is the subject of the next chapter.</P><p><br></P>
<center>
<table border>
<tr>
<td><a href="597-600.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="../ch20/605-608.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>