<html>
<head>
<meta name=vsisbn content="0782124488">
<meta name=vstitle content="Mastering Windows 2000 Professional">
<meta name=vsauthor content="Mark Minasi, Todd Phillips">
<meta name=vspublisher content="Sybex, Inc.">
<meta name=vspubdate content="01/01/00">
<meta name=vscategory content="Operations Systems: Windows 2000">



<title>Mastering Windows 2000 Professional:Administrative and Diagnostic Tools</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css">
<!--
A:hover { color:red }
-->
</STYLE>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//--></script>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/0782124488.gif" width=60 height=73 alt="Mastering Windows 2000 Professional" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Mastering Windows 2000 Professional</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Mark Minasi, Todd Phillips</i>
    <br>
    Sybex, Inc.
    <br>
    <b>ISBN:</b>&nbsp;0782124488<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;01/01/00</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=0782124488//-->
<!--TITLE=Mastering Windows 2000 Professional//-->
<!--AUTHOR=Mark Minasi//-->
<!--AUTHOR=Todd Phillips//-->
<!--PUBLISHER=SYBEX//-->
<!--CHAPTER=30//-->
<!--PAGES=973-978//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="970-973.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="978-982.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<h4 align="LEFT"><a name="Heading8"></A><font color="#000077">Using Chart View</FONT></H4>
<p>Performance defaults to Chart view, which graphically displays any selected counters as either a line graph or a histogram (continually updated bar graph). Let&#146;s go through the steps to add % Processor Object and % Processor Time counters:
</P>
<dl>
<dd><b>1.</B>&nbsp;&nbsp;In the Performance System Monitor window, click the toolbar button that has the plus sign, or right-click the chart area and select Add Counters from the context menu. Windows 2000 displays the Add Counters dialog box, shown in Figure 30.10.
<p><a name="Fig12"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-12.jpg',398,313)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-12t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-12.jpg',398,313)"><font color="#000077"><b>Figure 30.10</B></FONT></A>&nbsp;&nbsp;In the Add Counters dialog box, you add counters, get explanations about them, and specify their display properties.</P>
<dd><b>2.</B>&nbsp;&nbsp;Select the Processor object and the % Processor Time counter. If you want a brief explanation of any counter, click the Explain button.
<dd><b>3.</B>&nbsp;&nbsp;Click Add.
<dd><b>4.</B>&nbsp;&nbsp;Select the Click Paging File object, select the % Usage counter, and click Add.
<dd><b>5.</B>&nbsp;&nbsp;To finish, click Done.
</DL>
<p>After you&#146;ve set up a Chart view, you can save it by right-clicking the chart and selecting Save As from the context menu.
</P>
<blockquote>
<p><font size="-1"><hr><b>TIP:&nbsp;&nbsp;</B>Pressing Ctrl+H highlights the counter you have selected.<hr></FONT>
</BLOCKQUOTE>
<p>If values for a given counter are too small and difficult to see, you can adjust the counter&#146;s scale in the System Monitor Properties dialog box (see Figure 30.11) to make them more readily visible. You can open the System Monitor Properties by right-clicking the chart and selecting Properties from the context menu.
</P>
<p><a name="Fig13"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-13.jpg',416,448)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-13t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-13.jpg',416,448)"><font color="#000077"><b>Figure 30.11</B></FONT></A>&nbsp;&nbsp;In the System Monitor Properties dialog box, you can change display attributes, including the update interval.</P>
<h4 align="LEFT"><a name="Heading9"></A><font color="#000077">Using Alerts</FONT></H4>
<p>Alerts can be very useful when monitoring the computer system over a long period of time, or when you have several computers to monitor. An alert is triggered when a condition you have selected occurs. For example, if you wanted to find out how often your CPU was being stressed by the normal level of activity throughout the day, you could make an alert that would trigger whenever the System object Processor Queue Length counter exceeded a count of two. The Alerts view is shown in Figure 30.12.
</P>
<p><a name="Fig14"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-14.jpg',404,448)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-14t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-14.jpg',404,448)"><font color="#000077"><b>Figure 30.12</B></FONT></A>&nbsp;&nbsp;The Alerts list lets you create and run Performance Alerts for many system events.</P>
<p>Alert view is useful for monitoring available hard-drive space or the number of active connections to your machine by other users.
</P>
<p>Let&#146;s set Alert counters for these two parameters:</P>
<dl>
<dd><b>1.</B>&nbsp;&nbsp;In the Performance window, double-click the Performance Logs and Alerts entry in the console tree in the left pane to expand it, then click Alerts.
<dd><b>2.</B>&nbsp;&nbsp;In the right pane, right click and select New Alert Settings from the context menu to create a new Alert.
<dd><b>3.</B>&nbsp;&nbsp;When prompted, type a name to use for this group of Alert settings. Click OK when you&#146;re satisfied.
<dd><b>4.</B>&nbsp;&nbsp;In the Properties for the new Alert group, type in a comment that describes the settings. Click the Add button to open the Select Counters dialog box. Select Use Local Computer Counters.
<dd><b>5.</B>&nbsp;&nbsp;Under Performance Object, select Logical Disk Object, and in the Select Counters From List box, click % Free Space. Click the Add button.
<dd><b>6.</B>&nbsp;&nbsp;Now select the Server object, and choose the Server Sessions counter, then click the Add button again. Click Close.
<dd><b>7.</B>&nbsp;&nbsp;Highlight the Logical Disk\%Free Space entry in the Counters list. In the Trigger Alert When the Value Is field, select Under, and type <b>20%.</B>
<dd><b>8.</B>&nbsp;&nbsp;Now highlight the Server\Server Sessions entry, then select Over, and type in <b>10.</B>
</DL>
<p>If either counter now crosses the threshold values you&#146;ve set, an alert will be written to the Event Viewer&#146;s Application log. You can also have Performance send a message to your network administrator if an alert is logged, or you can tweak the update interval or set it to be updated manually.
</P>
<p>To save this view of the Alert log, select Save Alert Settings from the File menu.</P>
<blockquote>
<p><font size="-1"><hr><b>NOTE:&nbsp;&nbsp;</B>You cannot set an alert for both over and under conditions on the same counter. That is, you could not set an alert for over 10% Free Space and under 10% Free Space. The only way to accomplish that is to run two instances of Performance with each one set to alert on a specific condition.<hr></FONT>
</BLOCKQUOTE>
<h4 align="LEFT"><a name="Heading10"></A><font color="#000077">Using Counter Log View</FONT></H4>
<p>Performance lets you track hundreds of counters in real time (as they happen), but often you may want to review system events one by one. Log view (see Figure 30.13) lets you capture objects&#146; counters to a file for later review.
</P>
<p>Performance&#146;s GUI is somewhat confusing here, but let&#146;s step through logging Processor and Memory counters.</P>
<dl>
<dd><b>1.</B>&nbsp;&nbsp;In the left pane of the Performance window, click the plus sign next to Performance Logs and Alerts to expand it.
<dd><b>2.</B>&nbsp;&nbsp;Click Counter Logs to highlight it, then right-click in the right pane. Select New Log Settings from the context menu.
<dd><b>3.</B>&nbsp;&nbsp;Type in a name that will describe this log. Click OK when you&#146;re done.
<dd><b>4.</B>&nbsp;&nbsp;Click the Add button to open the Select Counters dialog box.
<dd><b>5.</B>&nbsp;&nbsp;Click Use Local Computer Counters, then select the Processor Performance Object.
<dd><b>6.</B>&nbsp;&nbsp;Click the All Counters radio button to add all of the counters for this object.
<p><a name="Fig15"></A><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-15.jpg',640,452)"><img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-15t.jpg"></A>
<br><a href="javascript:displayWindow('../WebStripper/protected.html#link=http://corpitk.earthweb.com/reference/pro/0782124488/ch30/images/30-15.jpg',640,452)"><font color="#000077"><b>Figure 30.13</B></FONT></A>&nbsp;&nbsp;The Counter Log console tree stores all of your saved Counter Log settings.</P>
<dd><b>7.</B>&nbsp;&nbsp;Click the Add button.
<dd><b>8.</B>&nbsp;&nbsp;Now repeat steps five through seven using the Memory object.
<dd><b>9.</B>&nbsp;&nbsp;Click the Close button.
<dd><b>10.</B>&nbsp;&nbsp;Click OK to close the Log Properties dialog and return to Performance.
<dd><b>11.</B>&nbsp;&nbsp;Right-click the icon for the log settings you just created, and select Start from the context menu to start the log. When you want to stop the log, right-click the icon again and select Stop from the context menu.
</DL>
<p>In any view, you now need to add the counters you want to look at by clicking Edit and selecting Add To. You can choose only from the Processor and Memory objects because those are the two for which you gathered data. You choose any counter from these two objects.
</P>
<blockquote>
<p><font size="-1"><hr><b>WARNING:&nbsp;&nbsp;</B>Carefully watch the size of the log file as it grows. It is easy to gather enough data to fill a hard drive if left unattended for too long. When monitoring performance over a long period of time, it is more common to set the time interval to several minutes to avoid gathering too much data.<hr></FONT>
</BLOCKQUOTE>
<p>Viewing specific data points is a little tricky here because the timeframe &#147;slider&#148; controller works differently in each of the three views. Let&#146;s take a look at it.
</P><p><br></P>
<center>
<table border>
<tr>
<td><a href="970-973.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="978-982.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>