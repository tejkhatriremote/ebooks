<html>
<head>
<meta name=vsisbn content="0789719274">
<meta name=vstitle content="Unix Hints & Hacks">
<meta name=vsauthor content="Kirk Waingrow">
<meta name=vsimprint content="Que">
<meta name=vspublisher content="Macmillan Computer Publishing">
<meta name=vspubdate content="04/20/99">
<meta name=vscategory content="Operating Systems: UNIX">




<title>UNIX Hints and Hacks:Networking</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/0789719274.gif" width=60 height=73 alt="Unix Hints & Hacks" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Unix Hints & Hacks</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Kirk Waingrow</i>
    <br>
    Que,&nbsp;Macmillan Computer Publishing
    <br>
    <b>ISBN:</b>&nbsp;0789719274<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;04/20/99</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=0789719274//-->
<!--TITLE=UNIX Hints and Hacks//-->
<!--AUTHOR=Kirk Waingrow//-->
<!--PUBLISHER=Macmillan Computer Publishing//-->
<!--IMPRINT=que//-->
<!--CHAPTER=02//-->
<!--PAGES=063-066//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="02-01.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="02-03.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<p>Only one needs to be running. If neither one displays any results, start the routing by selecting the best configuration for your environment. See section 2.8, &#147;Static Routing or <small>routed</SMALL>?&#148; for more information.</P>
<p>If one of these is there and you still have no connection, possible problem points to look at are the cable, the concentrator, the interface card, and the router.</P>
<p><font size="+1"><b><i>Accessing the Network</I></B></FONT></P>
<p>Try to connect around on the network. Two really good tests to use are the <small>ping</SMALL> and <small>telnet</SMALL> commands. <small>ping</SMALL> uses the ICMP protocol to connect, and <small>telnet</SMALL> uses TCP. Both protocols expect a response from a remote host. Use these commands to attempt a connection to another computer that is on the same subnet.</P>
<!-- CODE SNIP //-->
<pre>
% ping 199.45.34.10
no answer from 199.45.34.10
% telnet 199.45.34.10
Trying 199.45.34.10 ...
telnet: connect: Connection timed out
telnet&gt;
</PRE>
<!-- END CODE SNIP //-->
<p>If this fails, do the same test to the router or gateway address. In this example <small>199.45.34.254</SMALL> is the router.</P>
<!-- CODE SNIP //-->
<pre>
% ping 199.45.34.254
no answer from 199.45.34.254
% telnet 199.45.34.254
Trying 199.45.34.254 ...
telnet: connect: Connection timed out
telnet&gt;
</PRE>
<!-- END CODE SNIP //-->
<p>If these fail, the problem could be in the cable between the computer and the router, the concentrator, or the network card.
</P>
<p><font size="+1"><b><i>Check the Network Cables</I></B></FONT></P>
<p>If at all possible, check the Ethernet cable to make sure that it is still plugged in to the wall. The cables sometimes get kicked or come loose if slightly pulled on. If the wall is obstructed with the users&#146; debris or furniture, check the cable as it comes out from the Ethernet port on the computer. There should be a solid green link light when the cable is plugged in to the RJ-45 Ethernet port on the interface card in the computer. Some network cables can plug in to a transceiver box that is connected to the AUI port of the network interface card. These transceiver boxes have solid green link lights on them as well. Some of the new interface cards do not have any lights on them. Look carefully and don&#146;t be misled by missing lights.
</P>
<p>If there is no link light, the problem is possibly a bad cable, a dead interface card, a dead Ethernet port in the wall jack, or a problem at the concentrator.</P>
<p>If a link light is on, this points directly to a problem with the router, gateway, or route server.</P>
<p><font size="+1"><b><i>Check the Concentrator</I></B></FONT></P>
<p>If everything is still failing, there is no link light, and the system configurations look okay, trace the cable back to the concentrator and see whether the cable was unplugged or the port is bad.
</P>
<p>If there is no link light on the concentrator, the only possible solution is a bad cable somewhere between the concentrator and the network card in the computer, or, possibly, a bad network card.</P>
<p>If there is a link light on the concentrator and the computer&#146;s interface card, the problem is somewhere in the router or route server.</P>
<p><font size="+1"><b><i>Check the Router</I></B></FONT></P>
<p>If there are problems with the router, everyone is affected. When routers go down it is often the power supply that dies, or they can sometimes get stuck rebooting over and over. If there is a router server in place for something like an ATM network, disk drives usually go first.
</P>
<p><font size="+1"><b>Reason</B></FONT></P>
<p>The preceding five steps can help you diagnose a network problem that might suddenly appear. Some administrators have complete access to all the devices discussed. If you don&#146;t have access to the networking devices, you should be able to gather enough information to form a conclusion and bring in the right networking reinforcements to help fix the problem.
</P>
<p><font size="+1"><b>Real World Experience</B></FONT></P>
<p>Network problems are one of the most serious problems that a user can face in a centralized server networked environment. When there is a problem with the network, there are three ways to find out about it.
</P>
<p>The first two are the best ways to find out about a problem. By the time the user calls, you should be able to tell them that you already know about the problem and you are working on it. Users tend to think that administrators have some type of sixth sense when this starts happening.</P>
<dl>
<dd><b>1.</B>&nbsp;&nbsp;<i>A system monitoring program sends a page</I>. If a system drops off the network and you have a pager, set up the system to send you an email notifying you of the problem. If it is a network problem, the email might never get out. Have a backup plan for a modem on the local system that is doing the monitoring, so that the page can be received through the modem. There are commercial products and scripts on the Internet to do this.
<dd><b>2.</B>&nbsp;&nbsp;<i>You&#146;re in the system when a network problem develops.</I> Sometimes the opportunity presents itself right on the screen while you are working on other things. This gives you the chance to see first hand what is happening and to be prepared for the phone calls that start coming in.
<dd><b>3.</B>&nbsp;&nbsp;<i>The user calls you.</I> The worst way to discover a problem is to find out from the user. If you are like me, you&#146;ll try to discover the problem before the user does.
</DL>
<p>When I check on a network problem, I talk to everyone and anyone on the way; you never know whether someone might be able to provide some insight into it. Sometimes I find that someone was in the network room messing with cables earlier in the day, or more than one person is experiencing problems. Check all cables and connections before getting started. The problem could be anywhere and it could be hardware, software, or anything in-between. If you can attempt to hit both the hardware and software at once, you can attack the problem from both sides and solve it more quickly.
</P>
<p><font size="+1"><b>Other Resources</B></FONT></P>
<p>Man pages:
</P>
<!-- CODE SNIP //-->
<pre>
ifconfig, netstat, ping, telnet
</PRE>
<!-- END CODE SNIP //-->
<p>World Wide Web:
</P>
<p>Send page&#151;<a href="../WebStripper/protected.html#link=ftp://ftp.net.ohio-state.edu/pub/pagers">ftp://ftp.net.ohio-state.edu/pub/pagers</A></P>
<h3><a name="Heading6"></A><font color="#000077">2.3 Hiding Files with NFS</FONT></H3>
<h4 align="LEFT"><a name="Heading7"></A><font color="#000077">2.3.1 Description</FONT></H4>
<p>This is a sneaky little trick for hiding files beneath a NFS mount point.
</P>
<p>Flavors: AT&ampT. BSD</P>
<p>Syntax:</P>
<!-- CODE SNIP //-->
<pre>
<b>mount</B> fsname dirname
<b>umount</B> fsname | dirname
</PRE>
<!-- END CODE SNIP //-->
<p>I have seen this used time and again by tactful users to conceal their files from others. To the average user, the files do not even exist. To an administrator, the hidden files can provide a frustrating problem to what seems to be no answer. I will tell you later why this is.
</P>
<p>Suppose you have a list configuration of files down a tree that you want to conceal.</P>
<!-- CODE SNIP //-->
<pre>
# cd /configs/private/systems
# ls
sky     thunder     rain     storm

# df .
Filesystem        Type  kbytes     use     avail  %use Mounted on
/dev/dsk/dks0d3s0 xfs   2051936  1905636   146300  93  /
</PRE>
<!-- END CODE SNIP //-->
<p>Take the top level directory of the tree &#147;/configs&#148; and make it a mount point to a dummy area off a remote system.
</P>
<!-- CODE //-->
<pre>
# mount missile:/configs /configs
# cd /configs
# ls
README     data.conf

# df .
Filesystem       Type    kbytes        use       avail
&#8658;%use Mounted on
missile:/configs nfs     1968162     1655887     312275   85
&#8658;/tmp_mnt/hosts /missile/configs
</PRE>
<!-- END CODE //-->
<p><br></P>
<center>
<table border>
<tr>
<td><a href="02-01.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="02-03.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>