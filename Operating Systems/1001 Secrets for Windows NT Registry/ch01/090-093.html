<html>
<head>
<meta name=vsisbn content="1882419685">
<meta name=vstitle content="1001 Secrets for Windows NT Registry">
<meta name=vsauthor content="Tim Daniels">
<meta name=vspublisher content="29th Street Press">
<meta name=vspubdate content="12/01/97">
<meta name=vscategory content="Operating Systems: Windows NT">





<title>1001 Secrets for Windows NT Registry:General System</TITLE>
<!-- BEGIN HEADER -->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
',height=' + height + ',resizable=1,scrollbars=yes');
}
//--></SCRIPT>

<!-- HEADER -->
<style type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
 </STYLE>

</HEAD>
<BODY bgcolor=#FFFFFF><FONT size=2 face="Arial, verdana, helvetica"><table width=100% border=0 cellspacing=0 cellpadding=2><tr bgcolor=#000000><td width=100% align=right><b><font color=#FFFFFF>Gotcha</font></b></td></tr></table><br><!--Begin Content Column -->

<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img webstripperattrwas="src" webstripperlinkwas="http://corpitk.earthweb.com/images/sm_covers/1882419685.gif" width=60 height=73 alt="1001 Secrets for Windows NT Registry" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>1001 Secrets for Windows NT Registry</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Tim Daniels</i>
    <br>
    29th Street Press
    <br>
    <b>ISBN:</b>&nbsp;1882419685<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;12/01/97</font>
</td>
</tr>
</table>
<p>
<!-- Empty Reference Subhead-->

<!--ISBN=1882419685//-->
<!--TITLE=1001 Secrets for Windows NT Registry//-->
<!--AUTHOR=Tim Daniels//-->
<!--PUBLISHER=29th Street Press//-->
<!--CHAPTER=1//-->
<!--PAGES=090-093//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<center>
<table border>
<tr>
<td><a href="087-090.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="093-095.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<p><br></P>
<p><b>I-324</B> <big>I</BIG>f you need to limit the number of application-requested user ports that Windows NT dynamically assigns, change this registry value.</P>
<table width="100%"><tr>
<td width="30%" align="RIGHT"><b>Hive:</B>
<td width="70%">HKEY_LOCAL_MACHINE
<tr>
<td align="RIGHT"><b>Key:</B>
<td>System\CurrentControlSet\Services\Tcpip\Parameters
<tr>
<td align="RIGHT"><b>Value Name:</B>
<td>MaxUserPort
<tr>
<td align="RIGHT"><b>Data Type:</B>
<td>REG_DWORD
<tr>
<td align="RIGHT"><b>Value:</B>
<td>0x1388
</TABLE>
<p>This value is in hexadecimal. The default value is 1388 hex, or 5000 decimal. Restart the machine for any changes to take effect.
</P>
<p><b>I-325</B> <big>I</BIG>f your systems are prone to SYN attacks (Unix hackers love that trick), you may want to change this registry entry.</P>
<table width="100%"><tr>
<td width="30%" align="RIGHT"><b>Hive:</B>
<td width="70%">HKEY_LOCAL_MACHINE
<tr>
<td align="RIGHT"><b>Key:</B>
<td>System\CurrentControlSet\Services\Tcpip\Parameters
<tr>
<td align="RIGHT"><b>Value Name:</B>
<td>TcpMaxConnectRetransmissions
<tr>
<td align="RIGHT"><b>Data Type:</B>
<td>REG_DWORD
<tr>
<td align="RIGHT"><b>Value:</B>
<td>3
</TABLE>
<p>This value limits the number of times Windows NT lets someone try to connect during a given connect session. The default value is 3.
</P>
<p><b>I-326</B> <big>I</BIG>f you have remote users with unreliable connections, you can reduce network congestion by adjusting this registry value.</P>
<table width="100%"><tr>
<td width="30%" align="RIGHT"><b>Hive:</B>
<td width="70%">HKEY_LOCAL_MACHINE
<tr>
<td align="RIGHT"><b>Key:</B>
<td>System\CurrentControlSet\Services\Tcpip\Parameters
<tr>
<td align="RIGHT"><b>Value Name:</B>
<td>TcpMaxDataRetransmissions
<tr>
<td align="RIGHT"><b>Data Type:</B>
<td>REG_DWORD
<tr>
<td align="RIGHT"><b>Value:</B>
<td>5
</TABLE>
<p>This value controls how many times a given data segment is retransmitted. Initially, this value is set according to the length of the round-trip time for a particular connection.
</P>
<p><b>I-327</B> <big>D</BIG>o you have too many people connecting to your system with TCP/IP, or are you connecting to more machines than is necessary? You can set a hard limit for the number of connections that TCP/IP can have open at a time.</P>
<table width="100%"><tr>
<td width="30%" align="RIGHT"><b>Hive:</B>
<td width="70%">HKEY_LOCAL_MACHINE
<tr>
<td align="RIGHT"><b>Key:</B>
<td>System\CurrentControlSet\Services\Tcpip\Parameters
<tr>
<td align="RIGHT"><b>Value Name:</B>
<td>TcpNumConnections
<tr>
<td align="RIGHT"><b>Data Type:</B>
<td>REG_DWORD
<tr>
<td align="RIGHT"><b>Value:</B>
<td>0xfffffe
</TABLE>
<p>The default value is 0xfffffe. Restart your system for any changes to take effect
</P>
<p><b>I-328</B> <big>I</BIG>f you need strict control over the kind of information that comes into your network, these registry parameters let you specify what your network does and doesn&#146;t accept.</P>
<table width="100%"><tr>
<td width="30%" align="RIGHT"><b>Hive:</B>
<td width="70%">HKEY_LOCAL_MACHINE
<tr>
<td align="RIGHT"><b>Key:</B>
<td>System\CurrentControlSet\Services\Tcpip\Parameters
<tr>
<td align="RIGHT"><b>Value Name:</B>
<td>EnableSecurityFilters
<tr>
<td align="RIGHT"><b>Data Type:</B>
<td>REG_DWORD
<tr>
<td align="RIGHT"><b>Value:</B>
<td>1
</TABLE>
<p>When this registry value is set to 1, all incoming raw IP datagrams are filtered. This feature must be enabled before you can use the RawIpAllowedProtocols, TcpAllowedPorts, or UdpAllowedPorts values.
</P>
<table width="100%"><tr>
<td width="10%"><b>I-329</B>
<td width="20%" align="RIGHT"><b>Hive:</B>
<td width="70%">HKEY_LOCAL_MACHINE
<tr>
<td>
<td align="RIGHT" valign="TOP"><b>Key:</B>
<td>System\CurrentControlSet\Services\&lt;adapter name&gt;\ Parameters\Tcpip
<tr>
<td>
<td align="RIGHT"><b>Value Name:</B>
<td>RawIpAllowedProtocols
<tr>
<td>
<td align="RIGHT"><b>Data Type:</B>
<td>REG_DWORD
<tr>
<td>
<td align="RIGHT"><b>Value:</B>
<td>0 &lt;protocol number&gt;
</TABLE>
<p>This value determines which IP datagrams are accepted by the transport. A value of 0 indicates that all values are valid. If this value is missing from the registry for a particular interface, all values are accepted.
</P>
<table width="100%"><tr>
<td width="10%"><b>I-330</B>
<td width="20%" align="RIGHT"><b>Hive:</B>
<td width="70%">HKEY_LOCAL_MACHINE
<tr>
<td>
<td align="RIGHT" valign="TOP"><b>Key:</B>
<td>System\CurrentControlSet\Services\&lt;adapter name&gt;\ Parameters\Tcpip
<tr>
<td>
<td align="RIGHT"><b>Value Name:</B>
<td>TcpAllowedPorts
<tr>
<td>
<td align="RIGHT"><b>Data Type:</B>
<td>REG_DWORD
<tr>
<td>
<td align="RIGHT"><b>Value:</B>
<td>0 &lt;port number&gt;
</TABLE>
<p>These values control which TCP ports accept SYN requests. A value of 0 indicates that all values are valid. If this value is missing from the registry for a particular interface, all values are accepted.
</P>
<table width="100%"><tr>
<td width="10%"><b>I-331</B>
<td width="20%" align="RIGHT"><b>Hive:</B>
<td width="70%">HKEY_LOCAL_MACHINE
<tr>
<td>
<td align="RIGHT" valign="TOP"><b>Key:</B>
<td>System\CurrentControlSet\Services\&lt;adapter name&gt;\ Parameters\Tcpip
<tr>
<td>
<td align="RIGHT"><b>Value Name:</B>
<td>UdpAllowedPorts
<tr>
<td>
<td align="RIGHT"><b>Data Type:</B>
<td>REG_DWORD
<tr>
<td>
<td align="RIGHT"><b>Value:</B>
<td>0 &lt;port number&gt;
</TABLE>
<p>This value determines which ports accept incoming UDP datagrams. A value of 0 indicates that all values are valid. If this value is missing from the registry for a particular interface, all values are accepted.
</P>
<p><b>I-132</B> <big>I</BIG>f you are using your Windows NT server as a dial-up server on the Internet and can&#146;t see all the computers on your network, you may be suffering from multiple default routes. To fix this problem, you must add the following key for each LAN adapter that is not connected to the Internet.</P>
<table width="100%"><tr>
<td width="30%" align="RIGHT"><b>Hive:</B>
<td width="70%">HKEY_LOCAL_MACHINE
<tr>
<td align="RIGHT"><b>Key:</B>
<td>System\Services\&lt;adapter&gt;\Parameters\Tcpip
</TABLE>
<p>Add the following value under the Parameters key:
</P>
<table width="100%"><tr>
<td width="30%" align="RIGHT"><b>Value Name:</B>
<td width="70%">DontAddDefaultGateway
<tr>
<td align="RIGHT"><b>Data Type:</B>
<td>REG_DWORD
<tr>
<td align="RIGHT"><b>Value:</B>
<td>1
</TABLE>
<p>Then use the route command to add persistent routes for the LAN that the other LAN adapters referenced.
</P><p><br></P>
<center>
<table border>
<tr>
<td><a href="087-090.html">Previous</A></TD>
<td><a href="../ewtoc.html">Table of Contents</A></TD>
<td><a href="093-095.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


</font></BODY></HTML>